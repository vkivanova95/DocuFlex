{% extends 'base.html' %}
{% block content %}
<div class="card shadow-sm p-4">
    <h4 class="custom-header mb-3">–°–ø–∏—Å—ä–∫ —Å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏</h4>

    {% include 'pagination_control.html' %}

    <div class="d-flex justify-content-between align-items-center mb-3">
        <a href="{% url 'users:user-create' %}" class="btn btn-primary">–î–æ–±–∞–≤–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª</a>
    </div>

    <form method="get" class="mb-3 d-flex flex-wrap align-items-center gap-2" role="search">
        <input type="text" name="search" value="{{ search_query }}" class="form-control" placeholder="–¢—ä—Ä—Å–∏ –ø–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª, –∏–º–µ –∏–ª–∏ –≥—Ä—É–ø–∞" style="max-width: 300px;">
        <input type="hidden" name="per_page" value="{{ per_page }}">
        <button type="submit" class="btn btn-outline-primary">üîç –¢—ä—Ä—Å–∏</button>
        <a href="{% url 'users:user-list' %}" class="btn btn-outline-danger">‚úñ –ò–∑—á–∏—Å—Ç–∏</a>
    </form>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª</th>
                <th>–ò–º–µ</th>
                <th>–ò–º–µ–π–ª</th>
                <th>–ì—Ä—É–ø–∞</th>
                <th>–ê–∫—Ç–∏–≤–µ–Ω</th>
                <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.username }}</td>
                <td>{{ user.get_full_name }}</td>
                <td>{{ user.email }}</td>
                <td>{% for g in user.groups.all %}{{ g.name }} {% endfor %}</td>
                <td>{{ user.is_active }}</td>
                <td><a href="{% url 'users:user-edit' user.id %}" class="btn btn-outline-secondary">‚úèÔ∏è</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
<p>

</p>
{% include "pagination.html" with page_obj=page_obj %}

</div>
{% endblock %}