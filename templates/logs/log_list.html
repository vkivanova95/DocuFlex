{% extends 'base.html' %}
{% block content %}

<div class="card shadow-sm p-4">
    <h4 class="custom-header mb-4">–°–∏—Å—Ç–µ–º–µ–Ω —Ä–µ–≥–∏—Å—Ç—ä—Ä</h4>

 <form method="get" class="mb-3 d-flex justify-content-end align-items-center gap-2">
        <label for="per_page" class="form-label mb-0">–ü–æ–∫–∞–∂–∏ –ø–æ:</label>
        <select name="per_page" id="per_page" class="form-select w-auto" onchange="this.form.submit()">
            <option value="5" {% if request.GET.per_page == '5' %}selected{% endif %}>5</option>
            <option value="10" {% if request.GET.per_page == '10' or not request.GET.per_page %}selected{% endif %}>10</option>
            <option value="20" {% if request.GET.per_page == '20' %}selected{% endif %}>20</option>
            <option value="all" {% if request.GET.per_page == 'all' %}selected{% endif %}>–í—Å–∏—á–∫–∏</option>
        </select>
</form>

    <form method="get" class="input-group mb-4">
        <input type="text" name="q" class="form-control" placeholder="–¢—ä—Ä—Å–∏ –ø–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª, –¥–µ–π—Å—Ç–≤–∏–µ, –º–æ–¥—É–ª –∏/–∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ... " value="{{ query }}">

        {% if query %}
            <a href="{% url 'logs:log-list' %}" class="btn btn-outline-danger">‚úñ –ò–∑—á–∏—Å—Ç–∏</a>
        {% else %}
            <button type="submit" class="btn btn-outline-secondary mb-2">üîç –¢—ä—Ä—Å–∏</button>
        {% endif %}
    </form>

<table class="table table-striped">
<thead>
  <tr>
    <th>–î–∞—Ç–∞/–ß–∞—Å</th><th>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª</th><th>–î–µ–π—Å—Ç–≤–∏–µ</th><th>–ú–æ–¥—É–ª</th><th>No</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
  </tr>
</thead>

<tbody>
  {% for log in logs %}
  <tr>
    <td>{{ log.timestamp }}</td>
    <td>{{ log.user }}</td>
    <td>{{ log.get_action_display }}</td>
    <td>{{ log.model_name }}</td>
    <td>{{ log.object_id }}</td>
    <td>{{ log.description }}</td>
  </tr>
  {% endfor %}
</tbody>
</table>
</div>
<p>

</p>
{% include "pagination.html" with page_obj=page_obj %}

{% endblock %}
