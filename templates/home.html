{% extends 'base.html' %}
{% load static %}
{% load group_tags %}

{% block content %}
<div class="text-center mt-5">
    <h2 class="mb-4" style="color: #003366;">–î–æ–±—Ä–µ –¥–æ—à–ª–∏ –≤ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ç–∞ –∑–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏</h2>
</div>

<div class="container mt-5">
    <div class="row g-4">

        <!-- –ö–ª–∏–µ–Ω—Ç–∏ -->
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-header fw-bold d-flex justify-content-between align-items-center">
                    <span>üßë‚Äçüíª –ö–ª–∏–µ–Ω—Ç–∏</span>
                    <span class="toggle-icon" style="cursor: pointer;" onclick="toggleMenu('clients-menu')">‚ñº</span>
                </div>
                <div class="card-body d-none" id="clients-menu">
                    <ul class="list-unstyled">
                        {% if request.user|has_group:"–±–∏–∑–Ω–µ—Å" or request.user.is_superuser%}
                            <li><a href="{% url 'clients:create' %}">‚ûï –î–æ–±–∞–≤—è–Ω–µ –∫–ª–∏–µ–Ω—Ç</a></li>
                        {% endif %}
                        {% if request.user|has_group:"–±–∏–∑–Ω–µ—Å" or request.user.is_superuser%}
                            <li><a href="{% url 'clients:eik_lookup' %}">‚úèÔ∏è –†–µ–¥–∞–∫—Ü–∏—è –∫–ª–∏–µ–Ω—Ç</a></li>
                        {% endif %}
                        {% if request.user|has_any_group:"–±–∏–∑–Ω–µ—Å, –∏–∑–ø—ä–ª–Ω–∏—Ç–µ–ª, —Ä—ä–∫–æ–≤–æ–¥–∏—Ç–µ–ª" or request.user.is_superuser%}
                            <li><a href="{% url 'clients:list' %}">üîç –ü—Ä–µ–≥–ª–µ–¥ –∫–ª–∏–µ–Ω—Ç–∏</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- –î–æ–≥–æ–≤–æ—Ä–∏ -->
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-header fw-bold d-flex justify-content-between align-items-center">
                    <span>üìÑ –î–æ–≥–æ–≤–æ—Ä–∏</span>
                    <span class="toggle-icon" style="cursor: pointer;" onclick="toggleMenu('contracts-menu')">‚ñº</span>
                </div>
                <div class="card-body d-none" id="contracts-menu">
                    <ul class="list-unstyled">
                        {% if request.user|has_group:"–±–∏–∑–Ω–µ—Å" or request.user.is_superuser%}
                            <li><a href="{% url 'contracts:create' %}">‚ûï –î–æ–±–∞–≤—è–Ω–µ –¥–æ–≥–æ–≤–æ—Ä</a></li>
                        {% endif %}
                        {% if request.user|has_group:"–±–∏–∑–Ω–µ—Å" or request.user.is_superuser%}
                            <li><a href="{% url 'contracts:contract_eik_lookup' %}">‚úèÔ∏è –†–µ–¥–∞–∫—Ü–∏—è –¥–æ–≥–æ–≤–æ—Ä</a></li>
                        {% endif %}
                        {% if request.user|has_any_group:"–±–∏–∑–Ω–µ—Å, –∏–∑–ø—ä–ª–Ω–∏—Ç–µ–ª, —Ä—ä–∫–æ–≤–æ–¥–∏—Ç–µ–ª" or request.user.is_superuser%}
                            <li><a href="{% url 'contracts:list' %}">üîç –ü—Ä–µ–≥–ª–µ–¥ –¥–æ–≥–æ–≤–æ—Ä–∏</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- –ó–∞—è–≤–∫–∏ -->
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-header fw-bold d-flex justify-content-between align-items-center">
                    <span>üì• –ó–∞—è–≤–∫–∏</span>
                    <span class="toggle-icon" style="cursor: pointer;" onclick="toggleMenu('requests-menu')">‚ñº</span>
                </div>
                <div class="card-body d-none" id="requests-menu">
                    <ul class="list-unstyled">
                        {% if request.user|has_group:"–±–∏–∑–Ω–µ—Å" or request.user.is_superuser%}
                            <li><a href="{% url 'requests:request_add' %}">‚ûï –ù–æ–≤–∞ –∑–∞—è–≤–∫–∞</a></li>
                        {% endif %}
                        {% if request.user|has_group:"–∏–∑–ø—ä–ª–Ω–∏—Ç–µ–ª" or request.user.is_superuser%}
                            <li><a href="{% url 'requests:assign_requests' %}">‚úèÔ∏è –†–∞–∑–ø—Ä–µ–¥–µ–ª—è–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∏</a></li>
                        {% endif %}
                        {% if request.user|has_group:"–∏–∑–ø—ä–ª–Ω–∏—Ç–µ–ª" or request.user.is_superuser%}
                            <li><a href="{% url 'requests:assigned_requests' %}">üìã –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –∑–∞—è–≤–∫–∏</a></li>
                        {% endif %}
                        {% if request.user|has_any_group:"–±–∏–∑–Ω–µ—Å, –∏–∑–ø—ä–ª–Ω–∏—Ç–µ–ª, —Ä—ä–∫–æ–≤–æ–¥–∏—Ç–µ–ª" or request.user.is_superuser%}
                            <li><a href="{% url 'requests:request_list_all' %}">üîç –ü—Ä–µ–≥–ª–µ–¥ –∑–∞—è–≤–∫–∏</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- –í—Ç–æ—Ä–∏ —Ä–µ–¥ -->
        <!-- –î–æ–∫—É–º–µ–Ω—Ç–∏ -->
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-header fw-bold d-flex justify-content-between align-items-center">
                    <span>üìÇ –î–æ–∫—É–º–µ–Ω—Ç–∏</span>
                    <span class="toggle-icon" style="cursor: pointer;" onclick="toggleMenu('docs-menu')">‚ñº</span>
                </div>
                <div class="card-body d-none" id="docs-menu">
                    <ul class="list-unstyled">
                        {% if request.user|has_group:"–∏–∑–ø—ä–ª–Ω–∏—Ç–µ–ª" or request.user.is_superuser %}
                            <li><a href="{% url 'annexes:generate_annex' %}">üìÑ –ì–µ–Ω–µ—Ä–∏—Ä–∞–π –∞–Ω–µ–∫—Å</a></li>
                        {% endif %}
                        {% if request.user|has_any_group:"–±–∏–∑–Ω–µ—Å, –∏–∑–ø—ä–ª–Ω–∏—Ç–µ–ª, —Ä—ä–∫–æ–≤–æ–¥–∏—Ç–µ–ª" or request.user.is_superuser%}
                            <li><a href="{% url 'annexes:annex_archive' %}">üìö –†–µ–≥–∏—Å—Ç—ä—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∏</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- –°–ø—Ä–∞–≤–∫–∏ -->
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-header fw-bold d-flex justify-content-between align-items-center">
                    <span>üìä –°–ø—Ä–∞–≤–∫–∏</span>
                    <span class="toggle-icon" style="cursor: pointer;" onclick="toggleMenu('reports-menu')">‚ñº</span>
                </div>
                <div class="card-body d-none" id="reports-menu">
                    <ul class="list-unstyled">
                        {% if request.user|has_group:"—Ä—ä–∫–æ–≤–æ–¥–∏—Ç–µ–ª" or request.user.is_superuser%}
                            <li><a href="{% url 'reports:productivity_report' %}">üìà –ü—Ä–µ–≥–ª–µ–¥ —Å–ø—Ä–∞–≤–∫–∏</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- –ê–¥–º–∏–Ω -->
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-header fw-bold d-flex justify-content-between align-items-center">
                    <span>üõ†Ô∏è –ê–¥–º–∏–Ω</span>
                    <span class="toggle-icon" style="cursor: pointer;" onclick="toggleMenu('admin-menu')">‚ñº</span>
                </div>
                <div class="card-body d-none" id="admin-menu">
                    <ul class="list-unstyled">
                        {% if request.user.is_superuser %}
                            <li><a href="/admin/">üîê –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è</a></li>
                        {% endif %}
                        {% if request.user|has_group:"—Ä—ä–∫–æ–≤–æ–¥–∏—Ç–µ–ª" or request.user.is_superuser%}
                            <li><a href="{% url 'users:user-dashboard' %}">üë§ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏</a></li>
                        {% endif %}
                        {% if request.user|has_group:"—Ä—ä–∫–æ–≤–æ–¥–∏—Ç–µ–ª" or request.user.is_superuser%}
                            <li><a href="{% url 'nomenclatures:nomenclature_list' %}">üìö –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∏</a></li>
                        {% endif %}
                        {% if request.user|has_group:"—Ä—ä–∫–æ–≤–æ–¥–∏—Ç–µ–ª" or request.user.is_superuser%}
                            <li><a href="{% url 'logs:log-list' %}">üìà –õ–æ–≥ —Ñ–∞–π–ª </a></li>
                        {% endif %}
                        {% if request.user|has_group:"—Ä—ä–∫–æ–≤–æ–¥–∏—Ç–µ–ª" or request.user.is_superuser%}
                            <li><a href="{% url 'news:news_list' %}">üì∞ –ù–æ–≤–∏–Ω–∏ </a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    function toggleMenu(id) {
        const menu = document.getElementById(id);
        menu.classList.toggle('d-none');
    }
</script>
{% endblock %}
