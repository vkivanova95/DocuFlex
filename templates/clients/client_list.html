{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="card shadow-sm p-4">
    <h4 class="custom-header"> –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ</h4>

    {% include 'pagination_control.html' %}

    <form method="get" class="mb-3 d-flex justify-content-end align-items-center">
        <input type="text" name="q" value="{{ q }}" class="form-control me-2" placeholder="–¢—ä—Ä—Å–∏ –ø–æ –ï–ò–ö –∏–ª–∏ –∏–º–µ">
        <input type="hidden" name="per_page" value="{{ per_page }}">
        <button type="submit" class="btn btn-outline-primary me-2" style="min-width: 120px;">üîç –¢—ä—Ä—Å–∏</button>
        <a href="{% url 'clients:list' %}" class="btn btn-outline-danger" style="min-width: 120px;">‚úñ –ò–∑—á–∏—Å—Ç–∏</a>
    </form>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>–ï–ò–ö</th>
                <th>–ò–º–µ</th>
                <th>–ì—Ä–∞–¥</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for client in clients %}
            <tr>
                <td>{{ client.eik }}</td>
                <td>{{ client.name }}</td>
                <td>{{ client.town }}</td>
                <td>
                    {% if client.is_active %}
                      <span class="badge bg-success">–ê–∫—Ç–∏–≤–µ–Ω</span>
                    {% else %}
                      <span class="badge bg-secondary">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</span>
                    {% endif %}
                </td>
                <td class="text-center">
                    <a href="{% url 'clients:edit' client.pk %}" class="btn btn-sm btn-outline-primary">‚úèÔ∏è –†–µ–¥–∞–∫—Ü–∏—è</a>
                    <form method="post" action="{% url 'clients:deactivate' client.pk %}" style="display:inline;">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-outline-danger btn-sm"
                                onclick="return confirm('–ù–∞–∏—Å—Ç–∏–Ω–∞ –ª–∏ –∏—Å–∫–∞—Ç–µ –¥–∞ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–∞—Ç–µ —Ç–æ–∑–∏ –∫–ª–∏–µ–Ω—Ç?');">
                            üóëÔ∏è –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
                        </button>
                    </form>

                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
<p>

</p>
{% include "pagination.html" with page_obj=page_obj %}
</div>
{% endblock %}
